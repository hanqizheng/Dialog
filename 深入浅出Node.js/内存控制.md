# 内存控制

2018-09-12

学习内存控制是非常必要的，服务器端的资源寸土寸金。

## Node & V8
一般的后端开发语言中，对内存的使用是没有限制的。但由于Node选择了JS，而JS跑在V8上面，所以说这层特殊的关系让V8的某些限制传给了Node。

比如内存上限

Node使用内存是有上限的(64位的约1.4GB，32位约0.7GB)，这样使得Node无法操作大内存对象(比如一个2GB的文件)

### V8为什么要限制内存
#### V8的对象分配
JS的对象都是通过堆来分配的，简单的来说就是有一大块内存叫做堆，每一个对象都会被放进堆里。直到这个堆被填满，然后申请下一个堆来放置后续的对象。

而且JS会把内存分为老生代和新生代两部分，老生代用来存放存货时间较长的对象，新生带则用来存放刚生成不久的对象
#### Scavenge算法
可以总结为只复制活着的对象。

一些关键词

晋升: 一个新生代对象经过多次复制后变成老生代对象

翻转: 完成一次复制后 From和To的角色互换


// unfinished
